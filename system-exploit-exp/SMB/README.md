# 渗透测试方法论——SMB

## 0x1 SMB 和 Samba 的区别

在 windows 上叫做 SMB，后来在 linux 上移植了该服务，就叫做 samba 服务。

**SMB协议是基于TCP—NETBIOS下的，一般使用端口是139,445。**

如果某个漏洞影响的是 samba，那么 Windows 是不受影响的。

通过 NetBIOS 扫描网络中所有提供 SMB 服务的主机：

```
nbtscan -r 192.168.0.1/24
```

## 0x2 获取 SMB 版本信息
- nmap

```
nmap -v -sV -p 139,445 <IP>
```

若 nmap 无法获取，尝试 msf

- msf

```
use auxiliary/scanner/smb/smb_version
```


## 0x3 
